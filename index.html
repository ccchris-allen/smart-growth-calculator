<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <title> Smart Growth Equity Calculator </title>
    <link rel="icon" 
      type="image/png" 
      href="img/caltrans-logo.png">

    <!-- Bootstrap CSS -->
    <link 
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" 
        crossorigin="anonymous"
    />
   
    <!-- Bootstrap-select CSS -->
    <link 
        rel="stylesheet" 
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css"
    />

    <!-- Font Awesome CSS -->
    <link 
        rel="stylesheet"
        href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" 
    />

    <!-- Leaflet CSS -->
    <link 
        rel="stylesheet" 
        href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
        integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
        crossorigin="" 
    />
   
    <link 
        rel="stylesheet" 
        href="https://unpkg.com/leaflet-draw@0.4.9/dist/leaflet.draw.css" 
    />

    <link  href="https://unpkg.com/leaflet-geosearch@latest/assets/css/leaflet.css" rel="stylesheet"/>

    <!-- Project CSS -->
    <link 
        rel="stylesheet" 
        href="dist/style.css"
    />

</head>

<body>

    <div id="main-container" class="container-fluid d-flex flex-column h-100">

        <!-- 
        NOTE: adding fixed-top seems to fix navbar cutoff issue, BUT it draws over map/sidebar... 
        fixed (?) by adding fixed-top and adding padding-top to body (see above)
        -->

        <!-- Title and navigation bar -->
        <nav class="navbar navbar-dark navbar-expand-xl bg-dark fixed-top navbar-default row">
            <div class="col col-md-1 col-lg-1 col-xl-1 d-none d-sm-block" style="text-align: center;">
                <img style="height: 60px" id="logo" src="img/caltrans-logo.png" />
            </div>

            <div class="container col">
                <a class="navbar-brand" href="#"> 
                    <div class="col">
                        <a class="navbar-brand text-left">Caltrans Smart Growth Equity Calculator</a><br/>
                        <a class="navbar-brand text-left" style="font-size: .5em">A Transportation, Housing, Climate Action Coordination Tool</a>
                    </div>
                    <!-- Old logo
                    Smart Growth Equity Calculator<br>
                    <span style="font-size: .7em;">A Housing, Transportation, & Climate Action Coordination Tool</span>
                    -->
                </a>
            </div>

            <button class="navbar-toggler navbar-toggler-right col col-md-2 col-lg-2 " type="button" data-toggle="collapse"
                data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-toggle="modal" data-target="#modal-description"> 
                            <i class="fa fa-info-circle"></i>
                            Project Description
                        </a>
                    </li>
                    <li class="nav-item">
                        <a id="nav-link-directions" class="nav-link" href="#" data-toggle="modal" data-target="#modal-directions"> 
                            <i class="fa fa-list-ol"></i>
                            Directions
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-toggle="modal" data-target="#modal-about-us"> 
                            <i class="fa fa-question-circle"></i>
                            About Us
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-toggle="modal" data-target="#modal-press"> 
                            <i class="fa fa-link"></i>
                            Links
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="http://docs.google.com/forms/d/17IeSc7ePgmYQbCWYjag-_lK7UZ9TLhCjIfYYBK5x7xk/" target="new"> 
                            <i class="fa fa-comment"></i>
                            Feedback
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- h-100 ensures body will take up entire space -->
        <div id="container-body" class="row h-100">

            <!-- Loading Overlay -->
            <!--
            <div class="loading"> 
                <div class="loading-container">
                    <span class="loading-ball"></span>
                    <span class="loading-ball"></span>
                    <span class="loading-ball"></span>
                </div>
            </div>
            -->

            <!-- Map -->
            <div id="map" class="col h-100">
                
                <div id="slideout" style="z-index: 1000">
                    <div id="slidecontent">
                        <a style="font-size: 1.2em;"><b>Smart Mobility Framework Placetypes Legend</b></a>
                        <div>
                            <a href="https://docs.google.com/document/d/1hEi9KGa2fVfgreHI9pRqxCz9Jp5x2mRs/edit"><b>SMF How-To Guide</b></a>
                            <a style="margin-left: .5em;" class="placetype-links" href="https://blinktag.com/induced-travel-calculator/"><b>Induced VMT Calculator</b></a>
                            <a style="margin-left: .5em;" class="placetype-links" ></a>Urban Centers</a>
                            <a style="margin-left: .5em;" class="placetype-links" >Urban Places*</a><br/>
                            <a style="margin-left: .5em;" class="placetype-links" >Compact Suburban Places</a>
                            <a class="placetype-links" >Suburban**</a>
                            <a style="margin-left: .5em;" class="placetype-links" >Rural Places</a>
                            <a style="margin-left: .5em;" class="placetype-links" >Employment Centers</a>
                            <a style="margin-left: .5em;" class="placetype-links" >Special Districts</a><br/>
                            <a class="placetype-links"><i>*Includes SMF "Close-In Compact Communities" **Includes SMF "Compact Communities"</i></a>
                        </div>
                        <img style="max-width:100%; max-height:auto;" src="img/newmatrixpic.jpg" /> 
                    </div>
                    <div id="clickme" >
                    </div>
                </div>

                <!-- <div style="z-index: 1001; top: 40%;">
                    <div id="radar" class="col-3 h-47 flex-column fixed-bottom section">
                            <h6 class="section-header"> Urban Quality Preformance </h6>
                            <canvas id="myChart"></canvas>
                            <button onclick="updateChart()">Update</button>
                    </div>  
                </div> -->
                
            </div>
            
            <!-- Sidebar -->
            <div id="sidebar" class="col-3 d-flex flex-column align-items-center h-100">

                <div class="section">

                    <!--<span class="section-title"> Customize Map </span>-->

                    <h6 class="section-header item-label"> Selected Urban Quality Metric </h6>
                    <span id="select-property" class="dropdown">
                        <button type="button" id="dropdownMenuButton" class="btn btn-xs dropdown-toggle"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 
                                <span id="btn-label">Daily Vehicle Miles Traveled per Capita</span> <span class="caret"></span>
                        </button>

                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <li><a id="vmt_perCapita2010" class="dropdown-item" href="#"> Daily Vehicle Miles Traveled per Capita</a></li>
                            <li><a id="vmt_hbw2010" class="dropdown-item" href="#">Daily Home Base Work Vehicle Miles Traveled per Capita</a></li>
                            <li><a id="hh_type1_v" class="dropdown-item" href="#"> Annual Vehicle Miles Traveled per Household</a></li>
                            <li><a id="ghg_hh_annual" class="dropdown-item" href="#"> Annual Carbon Emissions per Household</a></li>
                            <li><a id="housing" class="dropdown-item" href="#"> Housing Affordability </a></li>
                            <li><a id="afford-transport" class="dropdown-item" href="#"> Transportation Affordability </a></li>
                            <li><a id="ghg_cap" class="dropdown-item" href="#"> Daily Carbon Emissions by Person </a></li>
                            <li><a id="ghg_emp" class="dropdown-item" href="#"> Daily Carbon Emissions by Employee</a></li>
                            <li><a id="pedcol" class="dropdown-item" href="#"> Pedestrian Collisions </a></li>
                            <li><a id="cardio" class="dropdown-item" href="#"> Cardiovascular Disease </a></li>
                            <li><a id="obesity" class="dropdown-item" href="#"> Obesity </a></li>
                            <li><a id="pop-density" class="dropdown-item" href="#"> Population Density </a></li>
                            <li><a id="jobs-density" class="dropdown-item" href="#"> Jobs Density </a></li>
                            <li><a id="dwelling-density" class="dropdown-item" href="#"> Dwelling Density </a></li>
                            <li><a id="Jobs45Tran" class="dropdown-item" href="#"> Jobs Accessible From Transit</a></li>
                            <li><a id="Jobs45Auto" class="dropdown-item" href="#"> Jobs Accessible From Car</a></li>
                            <li><a id="ped-environment" class="dropdown-item" href="#"> Walkability </a></li>
                            <li><a id="walkscore" class="dropdown-item" href="#"> WalkScore </a></li>
                            <li><a id="walkshare" class="dropdown-item" href="#"> Walking Percent </a></li> 
                        </ul>
                    </span>
                </div>

                <div class="section legend">
                    <h6 class="section-header"> PERFORMANCE LEGEND </h6>
                    <div id="legend-items">
                        <div id="scale-swatches" class="d-flex flex-wrap justify-content-around">
                            <!-- Add container divs with flex: 1 to space things out right?-->
                            <div class="swatch-container">
                                <svg width="50" height="50">
                                    <circle cx="50%" cy="50%" r="21" fill="DeepSkyBlue" stroke="SeaGreen" stroke-width="6"/>
                                    <text x="50%" y="50%" text-anchor="middle" style="font-size: 9px; color: black; font-weight: bold; font-family: verdana, sans-serif"> 
                                        <tspan x="50%" dy="0.25em">GOOD</tspan>
                                    </text>
                                </svg>
                            </div>
                            <div class="swatch-container">
                                <div class="d-flex justify-content-center align-items-center" style="background-color: #ffd700"> 
                                    <span> MEDIUM </span>
                                </div>
                            </div>
                            <div class="swatch-container">
                                <div class="d-flex justify-content-center align-items-center" style="background-color: #dc143c"> 
                                    <span> POOR </span>
                                </div>
                            </div>
                            <div class="swatch-container">
                                <svg width="200" height="50">
                                    <pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="10" height="10" patternTransform="rotate(90)">
                                        <path d="M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2" 
                                            style="stroke: rgba(0, 0, 0, 0.3); stroke-width:5" />
                                    </pattern>
                                    <g>
                                        <circle cx="50%" cy="25" r="25" fill="url(#diagonalHatch)" />
                                        <text x="50%" y="50%" text-anchor="middle" style="font-size: 9px; color: black; font-weight: bold; font-family: verdana, sans-serif"> 
                                            <tspan x="50%" dy="0em">DISADVANTAGED COMMUNITIES</tspan>
                                            <tspan x="50%" dy="1em">OF CONCERN</tspan>
                                        </text>
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Container for statistics -->
                <div id="container-statistics" class="section">

                    <h6 class="section-header">  Selected Block Groups (<span id="stat-cbgs">0</span>) </h6>

                    <i id="download-csv" class="fa fa-download float-right" href="#" title="Download as CSV" aria-hidden="true"> </i>

                    <ul id="readouts" class="plain-list">

                        <li> <hr /> </li>
                        <li> <span style="font-size: .85em; font-weight: bold;"> Sustainability, Livability, Equity Performance </span> </li>
                        <li> <span style="font-size: .6em;"> Lower Values are Better </span> </li>

                        <li class="statistic showcased" data-toggle="tooltip" data-placement="top"
                                title="Vehicle Miles Traveled reflect the number of miles driving each year per person.">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">VMT Per Capita (Daily)</span>
                                <span class="vmt-label" style="font-size: .6em;">Caltrans 2017-<br/> Official State Data</span>
                                <span class="value">
                                    <span id="stat-vmt_perCapita2010"> N/A </span>
                                </span>
                            </div>
                            <div id='bar-vmt_perCapita2010' class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic showcased" data-toggle="tooltip" data-placement="top"
                                title="Home Base Work Vehicle Miles Traveled">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">Home Base Work VMT Per Capita (Daily)</span>
                                <span class="vmt-label" style="font-size: .6em;">Caltrans 2017-<br/> Official State Data</span>
                                <span class="value">
                                    <span id="stat-vmt_hbw2010"> N/A </span>
                                </span>
                            </div>
                            <div id='bar-vmt_hbw2010' class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic showcased" data-toggle="tooltip" data-placement="top"
                                title="Annual Vehicle Miles Traveled per Household">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    VMT per Household (Annual)
                                </span>
                                <span class="value">
                                    <span id="stat-hh_type1_v"> N/A </span>
                                </span>
                            </div>
                            <div id='bar-hh_type1_v' class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic showcased" data-toggle="tooltip" data-placement="top"
                                title="Annual Carbon Emissions per Household">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Carbon emissions per Household (Annual)
                                </span>
                                <span class="value">
                                    <span id="stat-ghg_hh_annual"> N/A </span>
                                </span>
                            </div>
                            <div id='bar-ghg_hh_annual' class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic" data-toggle="tooltip" data-placement="top" 
                                title="Housing Affordability reflects housing costs as a percent of income.">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Housing Affordability
                                </span>
                                <span class="value">
                                    <span id="stat-housing"> N/A </span>
                                </span>
                            </div>
                            <div id='bar-housing' class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic" data-toggle="tooltip" data-placement="top" 
                                title="Transportation Affordability reflects transportation costs as a percent of income.">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Transportation Affordability
                                </span>
                                <span class="value">
                                    <span id="stat-afford-transport"> N/A </span>
                                </span>
                            </div>
                            <div id='bar-afford-transport' class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic" data-toggle="tooltip" data-placement="top"
                                title="Daily Carbon Emissions per Person">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Daily Carbon Emissions <br> (lbs per person)
                                </span>
                                <span class="value">
                                    <span id="stat-ghg_cap"> N/A </span>
                                </span>
                            </div>
                            <div id="bar-ghg_cap" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic" data-toggle="tooltip" data-placement="top" 
                                title="Daily Carbon Emissions per Employee">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Daily Carbon Emissions <br> (lbs per employee)
                                </span>
                                <span class="value">
                                    <span id="stat-ghg_emp"> N/A </span>
                                </span>
                            </div>
                            <div id="bar-ghg_emp" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end" 
                                    title="Pedestrian Collisions">
                                <span class="label">
                                    Pedestrian Collisions <br> (per 100k walkers)
                                </span>
                                <span class="value">
                                    <span id="stat-pedcol"> N/A </span>
                                </span>
                            </div>
                            <div id="bar-pedcol" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>
                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Obesity <br>
                                    (Percentage Obese)
                                </span>
                                <span class="value">
                                    <span id="stat-obesity"> n/a </span>
                                </span>
                            </div>
                            <div id="bar-obesity" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>
                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Cardiovascular Disease <br>
                                    (Percentile)
                                </span>
                                <span class="value">
                                    <span id="stat-cardio"> n/a </span>
                                </span>
                            </div>
                            <div id="bar-cardio" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li> <hr /> </li>
                        <li> <span style="font-size: .85em; font-weight: bold;"> Urban Form/Livability Opportunities </span> </li>
                        <li> <span style="font-size: .6em;"> Higher Values are Better </span> </li>

                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Population Density <br> (persons per acre)
                                </span>
                                <span class="value">
                                    <span id="stat-pop-density"> N/A </span>
                                </span>
                            </div>
                            <div id="bar-pop-density" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Jobs Density <br> (jobs per acre)
                                </span>
                                <span class="value">
                                    <span id="stat-jobs-density"> N/A </span>
                                </span>
                            </div>
                            <div id="bar-jobs-density" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Dwelling Density <br> (units per acre)
                                </span>
                                <span class="value">
                                    <span id="stat-dwelling-density"> N/A </span>
                                </span>
                            </div>
                            <div id='bar-dwelling-density' class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic" data-toggle="tooltip" data-placement="top" 
                                    title="Jobs accessibility reflects the number of jobs accessible within a 45 minute transit commute.">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Jobs Accessibility (Transit)
                                </span>
                                <span class="value">
                                    <span id="stat-Jobs45Tran"> N/A </span>
                                </span>
                            </div>
                            <div id="bar-Jobs45Tran" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic" data-toggle="tooltip" data-placement="top" 
                                    title="Jobs accessibility reflects the number of jobs accessible within a 45 minute auto commute.">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Jobs Accessibility (Auto)
                                </span>
                                <span class="value">
                                    <span id="stat-Jobs45Auto"> N/A </span>
                                </span>
                            </div>
                            <div id="bar-Jobs45Auto" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Walkability <br> (Intersection Density)
                                </span>
                                <span class="value">
                                    <span id="stat-ped-environment"> n/a </span>
                                </span>
                            </div>
                            <div id="bar-ped-environment" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    walkscore
                                </span>
                                <span class="value">
                                    <span id="stat-walkscore"> n/a </span>
                                </span>
                            </div>
                            <div id="bar-walkscore" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>

                        <li class="statistic">
                            <div class="d-flex justify-content-between align-items-end">
                                <span class="label">
                                    Walking Percent
                                </span>
                                <span class="value">
                                    <span id="stat-walkshare"> n/a </span>
                                </span>
                            </div>
                            <div id="bar-walkshare" class="bar bar-full">
                                <div class="bar na"> </div>
                            </div>
                        </li>



                    </ul>

                </div>

                <!--
                <div class="row mt-auto justify-content-around align-items-end" style="font-size: 30px; color: #eee; background: #333; padding: 10px;">
                    <i class="fa fa-fw fa-map-marker-alt"></i>
                    <i class="fa fa-fw fa-map-marker-alt"></i>
                    <i class="fa fa-fw fa-map-marker-alt"></i>
                </div>
                -->

            </div>
        </div>
    </div>

    <!-- MODALS -->

    <!-- MODAL: PRESS -->
    <div class="modal hide" id="modal-press" tabindex="-1" role="dialog" aria-labelledby="modallabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title font-weight-bold"> Links </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                </div>

                <div class="modal-body">
                    <h4> Press </h4>
                    <ul>
                        <li>
                            <a href="https://www.voiceofsandiego.org/topics/land-use/city-is-poised-to-back-down-on-plan-to-increase-height-limit-again" target="new">
                                City Is Poised to Back Down on Plan to Increase Height Limit - Again
                            </a>
                        </li>
                        <li>
                            <a href="https://ytcropper.com/cropped/-z5ba4840ae9494" target="new">
                                KPBS Interview
                            </a>
                        </li>
                    </ul>

                    <h4> Related Tools </h4>
                    <ul>
                        <li>
                            <a href="http://app.restreet.com" target="new">ReStreet</a> is an interactive tool for street design.
                        </li>
                    </ul>
                    <ul>
                        <li>
                            <a href="https://drive.google.com/drive/folders/1C9p47a-muo-76cN4kf6zozlLkQPpxCrO?usp=sharing" target="new">Transit Corridor Livability Calculator Download</a> 
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>


    <!-- MODAL: CITY SELECTION -->
    <div class="modal hide" id="modal-select-city" tabindex="-1" role="dialog" aria-hidden="true"
        data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-body" class="p-5">
                    <h4 class="text-center"> Select a State: </h4>

                    <!-- <div class="d-flex justify-content-around flex-wrap mt-5"> -->
                    <div class="dropdown d-flex flex-column">
                        <div class="btn-group">
                            <button class="btn btn-primary dropdown-toggle btn-lg" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                California
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <button type="button" id="btn-alcc-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Alameda County <br>Contra Costa County</span>
                            </button>
                            <button type="button" id="btn-la-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Los Angeles County</span>
                            </button>
                            <button type="button" id="btn-oc-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Orange County</span>
                            </button>
                            <button type="button" id="btn-sa-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Sacramento County</span>
                            </button>
                            <button type="button" id="btn-sd-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> San Diego County</span>
                            </button>
                            <button type="button" id="btn-sf-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> San Francisco County</span>
                            </button>
                            <button type="button" id="btn-sm-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> San Mateo County</span>
                            </button>
                            <button type="button" id="btn-sc-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Santa Clara County</span>
                            </button>
                            </div>
                        </div>

                        <!-- remove oregon for now 1/20/20 -->
                        <!-- <div class="btn-group">
                            <button class="btn btn-primary dropdown-toggle btn-lg" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Oregon
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <button type="button" id="btn-clk-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Clackamas County </span>
                            </button> 
                            <button type="button" id="btn-ml-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Multnomah County </span>
                            </button> 
                            <button type="button" id="btn-wa-county" class="btn btn-squared btn-success btn-md">
                                <span id="btn-label" class="text-center"> Washington County </span>
                            </button> 
                            </div>
                        </div> -->
                    </div>

                </div>
            </div>
        </div>
    </div>


    <!-- MODAL: PROJECT DESCRIPTION -->
    <div class="modal hide" id="modal-description" tabindex="-1" role="dialog" aria-labelledby="modallabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">

                    <h4 class="modal-title font-weight-bold"> Project Description </h4>

                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                    </button>

                </div>
                <div class="modal-body">
                    <p>
                        Developed by Dr. Bruce Appleyard (<a href="mailto:bappleyard@mail.sdsu.edu"
                            target="_top">bappleyard@mail.sdsu.edu</a>) and 
                        assistants Chris Allen and Eduardo Cordova, this new online
                        Smart Growth Equity Calculator prototype is designed
                        to help practitioners and researchers meet a variety of
                        planning and design challenges related to corridors, station
                        areas, and complete streets, climate action planning and
                        providing affordable housing near transit in support of
                        active and sustainable travel. This Smart Growth Equity 
                        Calculator builds on work developing <a href="http://www.trb.org/main/blurbs/174953.aspx">The Handbook for 
                                Building Livable Transit Corridors</a> and the
                        associated <a href="http://www.trb.org/main/blurbs/174953.aspx">
                                Livability Calculator</a>, sponsored by the National
                        Academies of Sciences' Transportation Research Board.
                    </p>
                    <p>
                        In the future, this calculator will be designed to help plan the future of autonomous
                        vehicles, as outlines in this
                        <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3040783">
                            publication</a> on a new transportation/land
                        use performance measurement framework. for now, this prototype
                        covers San Diego, CA and San Mateo, CA, but we have the necessary data for
                        California and the entire us.
                    </p>
                    <p>
                        Special thanks to Geoff Boeing, PhD, for his advice and assistance on this calculator.
                    </p>

                    <p>
                        See funding information <a href="https://spa.sdsu.edu/index.php/alumni/philanthropy">here</a>.
                    </p>

                    <h5> Data Sources </h5>

                    <p> The following data sources were used in this project: </p>
                    <ul>
                        <li> <a href="https://www.epa.gov/smartgrowth/smart-location-mapping"> The EPA Smart Location Mapping Dataset </a></li>
                        <li> <a href="https://www.hudexchange.info/programs/location-affordability-index/"> The HUD Location Affordability Index </a></li>
                    </ul>

                </div>
            </div>
        </div>
    </div>


    <!-- MODAL: ABOUT US -->
    <div class="modal hide" id="modal-about-us" tabindex="-1" role="dialog" aria-labelledby="modallabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title font-weight-bold"> About Us </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                </div>
                <div class="modal-body">
                    <h5> Bruce Appleyard, PhD </h5>
                    <h5><a href="mailto:bappleyard@mail.sdsu.edu" target="_top"> bappleyard@mail.sdsu.edu</a></h5>
                    <p>
                        Dr. Appleyard is an Associate Professor in City & Regional Planning and Public
                        Administration at SDSU, with doctoral training in geo-spatial
                        analysis, behavioral economics, econometrics, and applied
                        transportation and land use policy analysis. Dr. Appleyard
                        is also an Associate Director in the Human Dynamics in
                        the Mobile Age (HDMA) research center, and the Assistant
                        Director of the Active Transportation Research Center,
                        both based at SDSU. Dr. Appleyard has led several research
                        efforts examining the relationship between public transport,
                        land use, socio-economics, and a variety of outcomes related
                        to public health, sustainability, economic vitality, and
                        equity.
                    </p>
                    <p>
                        Dr. Appleyard was the co-PI for the development of <a href="http://www.trb.org/main/blurbs/174953.aspx">the Handbook for 
                                Building Livable Transit Corridors</a> and the
                        associated <a href="http://www.trb.org/main/blurbs/174953.aspx">
                                Livability Calculator</a>, sponsored by the National
                        Academies of Sciences&#8217 Transit Cooperative Research
                        Project (TCRP). This required extensive geo-spatial and
                        econometric, mixed method analysis of all transit stations
                        and corridors throughout the us. Dr. Appleyard has also
                        been the project lead for the development of the sustainable
                        transportation calculator for the Smart Mobility Framework
                        implementation project for the state of California.
                    </p>

                    <h5> Chris Allen </h5>
                    <p>
                        Chris Allen is a PhD candidate in the Department of Geography at SDSU, 
                        where he focuses on using geospatial techniques
                        and new data sources to examine well-being in urban areas.
                        prior to entering the PhD program, Chris worked as a software
                        engineer in the avionics industry and completed
                        an MA in urban history at San Diego State. As a research
                        assistant at San Diego State, he has worked primarily on
                        projects to collect and analyze social media data to study
                        topics ranging from disease outbreak to disaster management.
                        In this role, Chris&#8217s duties have included database
                        administration, web dashboard creation (both server-side
                        and client-side programming), and geospatial analysis.
                    </p>

                    <h5> Eduardo Cordova </h5>
                    <p>
                        Eduardo Cordova graduated with distinction in his major from San Diego State University
                        with a degree in geography with an emphasis in geographic
                        information systems (GIS) in December of 2016. He has worked
                        on a variety of projects which include the excel Livability
                        Calculator, typology of transit corridor livability, carbon
                        emissions study, and crime stop studies. his contributions
                        range from map creation, python application development,
                        and data interpretation and management. His primary skill-set
                        include Python programming, ArcGIS, and Arc online.
                    </p>

                    <h5> Joseph Tinglof </h5>
                    <p>
                        Joseph Tinglof, a computer science student from San Diego State University, has provided
                        ongoing techical assistance in further developing and maintaining the smart calculator.
                    </p>

                </div>
            </div>
        </div>
    </div>


    <!-- MODAL: DIRECTIONS -->
    <div class="modal hide" id="modal-directions" tabindex="-1" role="dialog" aria-labelledby="modallabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title font-weight-bold"> Directions </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                </div>
                <div class="modal-body">
                    <p>
                        Welcome to the beta version of our Smart Calculator!  This Calculator is 
                        designed to help people, public agencies, and professionals make better decisions about growth 
                        and development (where and what kind) by allowing them to explore and understand urban quality 
                        throughout a community and a region, and how this urban quality relates to sustainability, 
                        livability, and social equity. We have detailed instructions below, but for a quick
                        overview of the calculator's capabilities, see the following video:
                    </p>

                    <p>
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/vD2koMvKL8M" class="col text-center" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe> 
                    </p>

                    <h5> Viewing Urban Quality Metrics </h5>
                    <p>
                        When you open the Calculator, the first layer that comes up shows 
                        Vehicle Miles Traveled per household, which is an important metric for 
                        climate action planning, as well as evaluating environmental impacts of 
                        development projects. The lighter areas in this VMT layer shows low VMT per 
                        household, whereas the darker red areas indicate of higher VMT. Using mouse, 
                        exploring the region and these urban quality metrics is made easy through 
                        the dynamic hover select capability of your mouse.  As you move through the 
                        region, these indicators will change based on your selections:

                        <div class="d-flex justify-content-center">
                            <img src="img/readouts-vmt.jpg" style="margin: 10px; height: 240px;">
                        </div>

                        In addition to VMT, we have included a number of other urban quality metrics 
                        related to environmental impacts, afforadability, health, and social equity.  
                        These other layers can be viewed by selected the "Select Urban Quality Metric" 
                        dropdown on the right-hand side:

                        <div class="d-flex justify-content-center">
                            <img src="img/urban-quality-metrics.jpg" style="margin: 10px; height: 360px;">
                        </div>

                        The circles show half mile catchment areas around transit stations using the 
                        high (green), medium (yellow), low (red) smart growth performance typology, 
                        based on our national study of urban quality of the National Academies of Sciences.

                        <div class="d-flex justify-content-center">
                            <img src="img/station-selection.jpg" style="margin: 10px; height: 240px;">
                        </div>
                    </p>

                    <h5> Selecting Layers </h5>
                    <p>
                        The Smart Calculator allows users to turn overlays on and off
                        by using the layer selection control, which is located
                        in the top-right corner of the map:

                        <div class="d-flex justify-content-center">
                            <img src="img/layer-select-icon.jpg" style="margin: 10px; height: 140px;">
                        </div>

                        Hovering over the layer selection control will display the layers that are loaded
                        into the calculator. show or hide layers by selecting or
                        deselecting the checkboxes next to each layer label:

                        <div class="d-flex justify-content-center">
                            <img src="img/layer-select-icon-open.jpg" style="margin: 10px; height: 140px;">
                        </div>
                    </p>

                </div>
            </div>
        </div>
    </div>

    <!-- jquery first, then popper.js, then bootstrap js -->

    <!-- JQuery JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity=""
          crossorigin="anonymous"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity=""
        crossorigin="anonymous"></script>

    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!-- Project JS -->
    <script src="dist/bundle.js" charset="utf-8"></script>

    <script>
        $(window).ready(function() {
            $("#modal-select-city").modal('show');
            $('[data-toggle="tooltip"]').tooltip()
        });
    </script>
    
    <script>
        $(function () {
            var leftVal = -540;
            $("#clickme").click(function () {
                leftVal = (leftVal * -1) - 540;
                $(this).parent().animate({left: leftVal + 'px'}, {queue: false, duration: 500});
                console.log("boop")
            });
        });
    </script>

<script src="node_modules/angular/angular.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="node_modules/angular-chart.js/dist/angular-chart.min.js"></script>
<script>
    //Drawing the initial chart
    var canvas = document.getElementById("myChart").getContext('2d');

    var config = {
        type: 'radar',
        data: {
            labels: ["High-quality Transit", "Mixed Income Housing", "Econ Opportunities", "Gov Services", "Cultural Opp", "Walkable"],
            datasets: [{
                data: [-0.20, -0.025, -0.125, -0.127, -0.208, -0.333],
                label: 'Emerging',
                borderColor: 'rgba(246, 71, 71, 1)',
                fill: 'origin'
            }, {
                data: [0.99, 0.224, 0.539, 0.82, 0.995, 0.561],
                label: 'Transitioning',
                borderColor: 'rgba(255, 246, 143, 1)',
                fill: '-1'
            }, {
                data: [2.67, 0.473, 1.602, 1.961, 2.781, 1.478],
                label: 'Integrated/Max',
                borderColor: 'rgba(123, 239, 178, 1)',
                fill: '-1'
            }, {
                data: [-0.89, -0.277, -0.391, -0.883, -0.829, -1.207],
                label: 'Input',
                borderColor: 'rgba(0,0,0 ,1 )'
            }]
        },
        options: {
            scale: {
                ticks: {
                    beginAtZero: false
                }
            },
            tooltips: {
                enabled: false
            }
        }
    };

    window.onload = function() {
        myRadar = new Chart(canvas, config);
    };
    
    function updateChart(){
        //gather data from page
        var jobAccElem = document.getElementById('stat-jobs-accessibility').innerHTML.split(" ", 1);
        var jobAccStat = jobAccElem[0];
        //missing transit service
        var housingElem = document.getElementById('stat-housing').innerHTML.split(" ", 1);
        var housingStat = housingElem[0];
        //missing income diversity 
        var jobDenElem = document.getElementById('stat-jobs-density').innerHTML.split(" ", 1);
        var jobDenStat = JobDenElem[0];
        //missing retail job 
        //missing ridership balance
        //missing healthcare opps
        var popDenElem = document.getElementById('stat-pop-density').innerHTML.split(" ", 1);
        var popDenStat = popDenElem[0];
        //missing acc to culture
        var walkElem = document.getElementById('stat-ped-environment').innerHTML.split(" ", 1); 
        var walkStat = walkElem[0];
        //missiing collisons
        //update values
        myRadar.data.datasets[3].data = [-0.69, -2.52, -0.16, 2.07, -0.58, -0.05];
        myRadar.update();
    }
</script>
</body>

</html>
